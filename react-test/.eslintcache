[{"/Users/lian/Desktop/code/github/my-practice/react-test/src/index.js":"1","/Users/lian/Desktop/code/github/my-practice/react-test/src/App.js":"2","/Users/lian/Desktop/code/github/my-practice/react-test/src/LazyLoad.js":"3","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/Dog.jsx":"4","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/Layout.jsx":"5","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/app/Car.jsx":"6","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/app/Home.jsx":"7","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/app/Bwm.jsx":"8","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/user/Login.jsx":"9","/Users/lian/Desktop/code/github/my-practice/react-test/src/components/RouterStrong.js":"10","/Users/lian/Desktop/code/github/my-practice/react-test/src/App2.js":"11"},{"size":207,"mtime":1610256315034,"results":"12","hashOfConfig":"13"},{"size":12775,"mtime":1610256467446,"results":"14","hashOfConfig":"13"},{"size":197,"mtime":1609515604474,"results":"15","hashOfConfig":"13"},{"size":35,"mtime":1609515604474,"results":"16","hashOfConfig":"13"},{"size":1221,"mtime":1609515604474,"results":"17","hashOfConfig":"13"},{"size":156,"mtime":1609515604474,"results":"18","hashOfConfig":"13"},{"size":785,"mtime":1609515604475,"results":"19","hashOfConfig":"13"},{"size":206,"mtime":1609515604474,"results":"20","hashOfConfig":"13"},{"size":182,"mtime":1609515604475,"results":"21","hashOfConfig":"13"},{"size":7807,"mtime":1609515712863,"results":"22","hashOfConfig":"13"},{"size":2311,"mtime":1609842051770,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1vuiaau",{"filePath":"26","messages":"27","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"30"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"30"},"/Users/lian/Desktop/code/github/my-practice/react-test/src/index.js",["55"],"/Users/lian/Desktop/code/github/my-practice/react-test/src/App.js",["56","57","58","59","60","61","62","63","64","65","66","67","68"],"/Users/lian/Desktop/code/github/my-practice/react-test/src/LazyLoad.js",[],["69","70"],"/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/Dog.jsx",["71"],"export default () => <div>dog</div>","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/Layout.jsx",["72"],"import React from 'react'\n\nimport { Button } from 'antd';\nimport { Link } from 'react-router-dom';\nclass Layout extends React.Component {\n    render () {\n        console.log('this.props', this.props)\n        return (\n            <div className='layout-c'>\n                <div className=\"nav\">\n                    path:\n                    <Link to='/app/home'>/app/home</Link>\n                    <Link to='/app'>/app</Link>\n                    <Link to='/app/car?kkk=10'>/app/car</Link>\n                    <Link to='/app/car/bwm'>/app/car/bwm</Link>\n                    <Link to='/user/login'>/user/login</Link>\n                    <Link to='/dog'>dog</Link>\n                    <br />\n                    <br />\n                    aliasPath:\n                    <Link to='/home'>/home</Link>\n                    <br />\n\n                    <button onClick={() => { this.props.history.push('/') }}>   /   </button>\n                    &nbsp;\n                    &nbsp;\n                    &nbsp;\n                    <button onClick={() => { this.props.history.push('/app?aaaa=1') }}>/app</button>\n                </div>\n                {this.props.children}\n            </div>\n        )\n    }\n}\n\nexport default Layout","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/app/Car.jsx",["73"],"import React from 'react'\n\nexport default (props) => {\n    return (\n        <div>\n            <p>car</p>\n            {props.children}\n        </div>\n    )\n}","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/app/Home.jsx",["74","75","76","77","78","79","80","81"],"import React, { useState } from 'react'\nimport { Link } from 'react-router-dom';\nimport { RouterView } from '../../components/RouterStrong'\nclass Home extends React.Component {\n    constructor(props) {\n        super()\n        this.state = {\n            count: 0\n        }\n    }\n    render () {\n        return (\n            <div>\n                <p><a href=\"\">home</a></p>\n                <p><a href=\"\">home</a></p>\n                <p><a href=\"\">home</a></p>\n                <p><a href=\"\">home</a></p>\n                <p><a href=\"\">home</a></p>\n                <p>count:{this.state.count}</p>\n                <button onClick={() => this.setState({\n                    count: this.state.count + 1\n                })}>add</button>\n            </div>\n        )\n    }\n}\n\nexport default Home","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/app/Bwm.jsx",["82"],"import React from 'react'\n\nexport default () => {\n    return (\n        <div>\n            <br />\n            <br />\n            <br />\n            <br />\n            <p>this is BWM</p>\n        </div>\n    )\n}","/Users/lian/Desktop/code/github/my-practice/react-test/src/pages/user/Login.jsx",["83","84"],"import React from 'react'\n\nimport { Link } from 'react-router-dom';\n\n\nexport default () => {\n    return (\n        <div>\n            <div> this is login  </div>\n        </div>\n    )\n}","/Users/lian/Desktop/code/github/my-practice/react-test/src/components/RouterStrong.js",["85"],"import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Prompt } from 'react-router'\nimport { BrowserRouter, HashRouter, Route, Switch, Redirect } from 'react-router-dom';\nconst preHistory = 'rs__unique__pre_History_____'\nconst curHistory = 'rs__unique__cur_History_____'\nconst AllRoutes = 'rs__unique__AllRoutes___'\nlet __init__ = false\nlet utils = {};\nObject.defineProperty(utils, 'history', {\n    get () {\n        return window[curHistory]\n    }\n})\nObject.defineProperty(utils, 'route', {\n    get () {\n        return window[curHistory] ? window[curHistory].route : null\n    }\n})\n\nexport const getHistory = () => window[curHistory];\nexport let rsUtils = utils;\nfunction isPromise (obj) {\n    return !!obj  //有实际含义的变量才执行方法，变量null，undefined和''空串都为false\n        && (typeof obj === 'object' || typeof obj === 'function') // 初始promise 或 promise.then返回的\n        && typeof obj.then === 'function';\n}\nfunction wrapParent (r, comp = null, props) {\n    let target = r.component ? <r.component  {...props}> {r.children ? comp : null}</r.component> : null;\n    if (r.__parent && r.__parent.component) {\n        return wrapParent(r.__parent, target, props)\n    }\n    return target\n}\nclass AsyncRoute extends React.Component {\n    constructor(props) {\n        super();\n        this.state = {\n            finished: false\n        }\n    }\n    componentDidMount () {\n        const { beforeEach } = this.props;\n        function getRoute (pathname) {\n            return window[AllRoutes].find(d => d.props.__r.path === pathname).props.__r;\n        }\n        beforeEach && beforeEach(\n            window[curHistory].route,\n            window[preHistory].route,\n            (params) => {\n                if (params && params.path) {\n                    let r = getRoute(params.path)\n                    if (r.redirect) {\n                        window[curHistory].push(r.redirect);\n                        return\n                    }\n                    window[curHistory].push(params.path);\n                    return\n                }\n                __init__ = true\n                this.setState({\n                    finished: true\n                })\n            }\n        );\n    }\n    render () {\n        const { wp } = this.props\n        return this.state.finished ? wp : null\n    }\n}\nclass RouterStrong extends React.Component {\n    constructor(props) {\n        super();\n        this.pendding = true\n        this.state = {\n            init: !props.beforeEach\n        }\n    }\n    static propsTypes = {\n        routes: PropTypes.array.isRequired,\n        mode: PropTypes.string,\n        beforeEach: PropTypes.func,\n        isSwitch: PropTypes.bool,\n    }\n    __beforeEach (location, action) {\n        // console.log(\"location:\", location, \"\\n\", \"action:\", action)\n        const { pathname } = location\n        const { beforeEach } = this.props\n        function getRoute (pathname) {\n            return window[AllRoutes].find(d => d.props.__r.path === pathname).props.__r;\n        }\n        this.pendding = true;\n        let to = getRoute(pathname);\n        beforeEach && beforeEach(\n            to,\n            window[preHistory].route,\n            (params) => {\n                this.pendding = false\n                if (to.redirect) {\n                    window[curHistory].push(to.redirect);\n                    return\n                }\n                if (params && params.path) {\n                    let r = getRoute(params.path)\n                    if (r.redirect) {\n                        window[curHistory].push(r.redirect);\n                        return\n                    }\n                    window[curHistory].push(params.path);\n                    return\n                }\n                if (action === 'POP') {\n                    //回退\n                    console.log(\"Backing up...\")\n                    window[curHistory].goBack()\n                } else {\n                    //跳转\n                    console.log(`window[curHistory].push(${pathname})`)\n                    window[curHistory].push(pathname)\n                }\n            }\n        );\n        return !beforeEach\n    }\n    __Prompt () {\n        return (\n            <Prompt\n                message={(location, action) => {\n                    // if (action === 'POP') {\n                    //     console.log(\"Backing up...\")\n                    // }\n                    if (!this.pendding) {\n                        return true\n                    }\n                    return this.__beforeEach(location, action);\n                }}\n            />\n        )\n    }\n    render () {\n        const {\n            routes = [],\n            mode,\n            isSwitch = true,\n            indexPath = '/',\n            noFoundPath = '/404',\n            beforeEach\n        } = this.props;\n        if (!beforeEach) {\n            __init__ = true\n        } else {\n            if (typeof beforeEach !== 'function') {\n                throw new Error('beforeEach must be a function')\n            }\n        }\n        const Router = mode === 'history' ? BrowserRouter : HashRouter;\n\n        let AllRoutes = routes.map((r) => {\n            const route = (r) => {\n                const routeParams = (r) => ({\n                    key: r.path,\n                    exact: true,\n                    path: r.path,\n                    __r: r,\n                    __parent: r.__parent,\n                    __redirect: r.redirect,\n                    render: (props) => {\n                        props.history = { ...props.history, route: r };\n                        window[preHistory] = window[curHistory] || {};\n                        window[curHistory] = props.history;\n                        console.log('render-props', props);\n                        this.pendding = true\n                        const merge = {\n                            ...props,\n                            route: r\n                        };\n                        if (r.redirect) {\n                            return <Redirect {...merge} to={r.redirect} />\n                        }\n                        let wp = wrapParent(r, null, merge)\n                        return __init__ ? wp : <AsyncRoute wp={wp} beforeEach={beforeEach} />\n                    },\n                });\n\n                return <Route {...routeParams(r)} />\n            };\n            let res = [];\n            function inorder (r) {\n                if (r.path && (r.component || r.redirect)) {\n                    res.push(route(r))\n                }\n                if (Array.isArray(r.children) && r.children.length) {\n                    for (let x of r.children) {\n                        x['__parent'] = r;\n                        inorder(x)\n                    }\n                }\n                if (Array.isArray(r.aliasPath) && r.aliasPath.length) {\n                    r.aliasPath.forEach((path) => {\n                        if (!/^\\//.test(path)) { path = '/' + path }\n                        res.push(route(Object.assign({}, r, { path, aliasPath: null })))\n                    })\n                }\n                return res\n            }\n            return inorder(r)\n        }).flat().filter(Boolean);\n        AllRoutes = AllRoutes.concat([\n            <Route key={indexPath} exact path=\"/\" render={() => <Redirect to={indexPath} push />} />,\n            <Route key={noFoundPath} render={() => <Redirect to={noFoundPath} />} />\n        ]);\n        console.log('AllRoutes', AllRoutes)\n        window[AllRoutes] = AllRoutes\n        return (\n            <Router>\n                {this.props.children}\n                {this.__Prompt()}\n                {\n                    isSwitch ? <Switch>  {AllRoutes}  </Switch> : AllRoutes\n                }\n            </Router>\n        )\n    }\n}\n\nexport default RouterStrong\n","/Users/lian/Desktop/code/github/my-practice/react-test/src/App2.js",["86","87","88","89","90","91","92","93","94"],"import React, { useState } from 'react';\nimport { Spin, Alert } from 'antd';\n\nimport LazyLoad from './LazyLoad'\nimport './styles/App.scss'\nimport { BrowserRouter, HashRouter, Route, Switch, Redirect } from 'react-router-dom';\n\nimport Layout from './pages/Layout'\n// import Car from './pages/Car'\n\nconst Home = LazyLoad(React.lazy(() => import(/* webpackChunkName: \"Home\" */ './pages/app/Home')));\nconst Login = LazyLoad(React.lazy(() => import(/* webpackChunkName: \"Login\" */ './pages/user/Login')));\nconst Car = LazyLoad(React.lazy(() => import(/* webpackChunkName: \"Car\" */ './pages/app/Car')));\nconst BWM = LazyLoad(React.lazy(() => import(/* webpackChunkName: \"Car\" */ './pages/app/Bwm')));\nconst Dog = LazyLoad(React.lazy(() => import(/* webpackChunkName: \"Dog\" */ './pages/Dog')));\n\nconst routes = [\n    {\n        path: \"/\",\n        redirect: '/app/home',\n    },\n    {\n        path: \"/app\",\n        component: Layout,\n        redirect: '/app/home',\n        children: [\n            {\n                path: '/app/home', aliasPath: ['/home'], component: Home\n            },\n            {\n                path: '/app/car',\n                component: Car,\n                children: [\n                    {\n                        path: '/app/car/bwm', component: BWM\n                    }\n                ]\n            },\n        ]\n    },\n    {\n        path: \"/user\",\n        children: [\n            {\n                path: '/user/login', component: Login\n            },\n\n        ]\n    },\n    {\n        path: \"/404\", component: () => <div>this is 404</div>\n    }\n    // {\n    //     path: \"/dog\", component: Dog\n    // }\n]\nconst sleep = (time) => new Promise((resolve) => {\n    setTimeout(() => {\n        resolve()\n    }, time)\n})\n\nexport default () => {\n    return (\n        <div className=\"app\">\n            <BrowserRouter>\n            <Switch>\n                <Route path='/app' component={Layout} routes={\n\n[\n    {\n        path: '/app/home', aliasPath: ['/home'], component: Home\n    },\n    {\n        path: '/app/car',\n        component: Car,\n        children: [\n            {\n                path: '/app/car/bwm', component: BWM\n            }\n        ]\n    },\n]\n                }>\n                       \n                </Route>\n            </Switch>\n            </BrowserRouter>\n        </div>\n    )\n};\n",{"ruleId":"95","severity":1,"message":"96","line":4,"column":8,"nodeType":"97","messageId":"98","endLine":4,"endColumn":12},{"ruleId":"95","severity":1,"message":"99","line":1,"column":17,"nodeType":"97","messageId":"98","endLine":1,"endColumn":25},{"ruleId":"95","severity":1,"message":"100","line":2,"column":16,"nodeType":"97","messageId":"98","endLine":2,"endColumn":21},{"ruleId":"95","severity":1,"message":"101","line":7,"column":10,"nodeType":"97","messageId":"98","endLine":7,"endColumn":23},{"ruleId":"95","severity":1,"message":"102","line":7,"column":25,"nodeType":"97","messageId":"98","endLine":7,"endColumn":35},{"ruleId":"95","severity":1,"message":"103","line":7,"column":37,"nodeType":"97","messageId":"98","endLine":7,"endColumn":42},{"ruleId":"95","severity":1,"message":"104","line":7,"column":44,"nodeType":"97","messageId":"98","endLine":7,"endColumn":50},{"ruleId":"95","severity":1,"message":"105","line":7,"column":52,"nodeType":"97","messageId":"98","endLine":7,"endColumn":60},{"ruleId":"95","severity":1,"message":"106","line":11,"column":32,"nodeType":"97","messageId":"98","endLine":11,"endColumn":39},{"ruleId":"95","severity":1,"message":"107","line":12,"column":10,"nodeType":"97","messageId":"98","endLine":12,"endColumn":26},{"ruleId":"95","severity":1,"message":"108","line":13,"column":10,"nodeType":"97","messageId":"98","endLine":13,"endColumn":16},{"ruleId":"95","severity":1,"message":"109","line":18,"column":7,"nodeType":"97","messageId":"98","endLine":18,"endColumn":10},{"ruleId":"110","severity":1,"message":"111","line":231,"column":53,"nodeType":"112","endLine":231,"endColumn":147},{"ruleId":"113","severity":1,"message":"114","line":237,"column":99,"nodeType":"115","endLine":237,"endColumn":114},{"ruleId":"116","replacedBy":"117"},{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","severity":1,"message":"121","line":1,"column":1,"nodeType":"122","endLine":1,"endColumn":36},{"ruleId":"95","severity":1,"message":"123","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":16},{"ruleId":"120","severity":1,"message":"121","line":3,"column":1,"nodeType":"122","endLine":10,"endColumn":2},{"ruleId":"95","severity":1,"message":"99","line":1,"column":17,"nodeType":"97","messageId":"98","endLine":1,"endColumn":25},{"ruleId":"95","severity":1,"message":"124","line":2,"column":10,"nodeType":"97","messageId":"98","endLine":2,"endColumn":14},{"ruleId":"95","severity":1,"message":"125","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":20},{"ruleId":"126","severity":1,"message":"127","line":14,"column":20,"nodeType":"112","endLine":14,"endColumn":31},{"ruleId":"126","severity":1,"message":"127","line":15,"column":20,"nodeType":"112","endLine":15,"endColumn":31},{"ruleId":"126","severity":1,"message":"127","line":16,"column":20,"nodeType":"112","endLine":16,"endColumn":31},{"ruleId":"126","severity":1,"message":"127","line":17,"column":20,"nodeType":"112","endLine":17,"endColumn":31},{"ruleId":"126","severity":1,"message":"127","line":18,"column":20,"nodeType":"112","endLine":18,"endColumn":31},{"ruleId":"120","severity":1,"message":"121","line":3,"column":1,"nodeType":"122","endLine":13,"endColumn":2},{"ruleId":"95","severity":1,"message":"124","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":14},{"ruleId":"120","severity":1,"message":"121","line":6,"column":1,"nodeType":"122","endLine":12,"endColumn":2},{"ruleId":"95","severity":1,"message":"128","line":23,"column":10,"nodeType":"97","messageId":"98","endLine":23,"endColumn":19},{"ruleId":"95","severity":1,"message":"99","line":1,"column":17,"nodeType":"97","messageId":"98","endLine":1,"endColumn":25},{"ruleId":"95","severity":1,"message":"129","line":2,"column":10,"nodeType":"97","messageId":"98","endLine":2,"endColumn":14},{"ruleId":"95","severity":1,"message":"100","line":2,"column":16,"nodeType":"97","messageId":"98","endLine":2,"endColumn":21},{"ruleId":"95","severity":1,"message":"102","line":6,"column":25,"nodeType":"97","messageId":"98","endLine":6,"endColumn":35},{"ruleId":"95","severity":1,"message":"105","line":6,"column":52,"nodeType":"97","messageId":"98","endLine":6,"endColumn":60},{"ruleId":"95","severity":1,"message":"109","line":15,"column":7,"nodeType":"97","messageId":"98","endLine":15,"endColumn":10},{"ruleId":"95","severity":1,"message":"130","line":17,"column":7,"nodeType":"97","messageId":"98","endLine":17,"endColumn":13},{"ruleId":"95","severity":1,"message":"131","line":57,"column":7,"nodeType":"97","messageId":"98","endLine":57,"endColumn":12},{"ruleId":"120","severity":1,"message":"121","line":63,"column":1,"nodeType":"122","endLine":91,"endColumn":3},"no-unused-vars","'App2' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'Alert' is defined but never used.","'BrowserRouter' is defined but never used.","'HashRouter' is defined but never used.","'Route' is defined but never used.","'Switch' is defined but never used.","'Redirect' is defined but never used.","'message' is defined but never used.","'CalculatorFilled' is defined but never used.","'render' is defined but never used.","'Dog' is assigned a value but never used.","jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","JSXOpeningElement","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","no-native-reassign",["132"],"no-negated-in-lhs",["133"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'Button' is defined but never used.","'Link' is defined but never used.","'RouterView' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'isPromise' is defined but never used.","'Spin' is defined but never used.","'routes' is assigned a value but never used.","'sleep' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]